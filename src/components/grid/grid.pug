include ../toggle-buttons/toggle-buttons.pug
include ../text-field/text-field.pug

mixin grid(options)
  -
    const label = options.label ?? ''
    const modify = options.modify ?? ''
    const addClass = options.class ?? ''
    const flLabel = options.flLabel
    const classComp = 'grid'
    let className = classComp
    
    if(modify){
    className += ` ${classComp}_${modify}`}
    if(addClass){
    className += ` ${addClass}`}

    const path = require('path').resolve(
    'src/components/grid/','grid.json'
    )
    const data = JSON.parse(require('fs').readFileSync(path)); 

    const textField = data.textField

  fieldset(class=`${className} js-${classComp}`)
    - if(!flLabel){
    legend(class=`${classComp}__label`)= label
    -}

    div(class=`${classComp}__grid-wrap js-${classComp}__grid-wrap`)
      +toggle-buttons({
        header: 'Grid',
      })

    div(class=`${classComp}__snap-wrap js-${classComp}__snap-wrap`)
      +toggle-buttons({
        header: 'Snap',
      })

    div(class=`${classComp}__interval-wrap js-${classComp}__interval-wrap`)
      +text-field(textField.interval)

    div(class=`${classComp}__step-wrap js-${classComp}__step-wrap`)
      +text-field(textField.step)
      
    div(class=`${classComp}__round-wrap js-${classComp}__round-wrap`)
      +text-field(textField.round)